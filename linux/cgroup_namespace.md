# cgroup & namespace

# 리눅스의 cgroup(Control Groups)

## 개요

cgroup은 리눅스 커널의 기능 중 하나로, 프로세스 그룹을 생성하여 리소스 사용을 제한하고 모니터링하는 기능을 제공합니다. 이를 통해 시스템의 리소스를 효율적으로 관리하고 여러 프로세스 간의 리소스 공유를 조절할 수 있습니다.

## 주요 기능

- **리소스 제한**: CPU, 메모리, 디스크 I/O, 네트워크 대역폭 등의 리소스에 대한 제한을 설정할 수 있습니다.
- **리소스 모니터링**: 각 cgroup의 리소스 사용량을 실시간으로 모니터링할 수 있습니다.
- **리소스 공유**: 여러 프로세스 간에 리소스를 공유하거나 분배할 수 있습니다.
- **자원 관리**: 서버 가상화 환경에서 cgroup을 사용하여 가상 환경 간의 리소스를 격리하고 관리할 수 있습니다.

## 사용법

cgroup은 다음과 같은 방법으로 사용할 수 있습니다.

- cgroup 파일 시스템을 마운트하여 직접 제어합니다.
- `cgcreate`, `cgexec`, `cgset`, `cgdelete` 등의 유틸리티를 사용하여 프로그래밍 방식으로 관리합니다.
- systemd 등의 서비스 관리자를 통해 cgroup을 관리합니다.

# 리눅스의 Namespace

## 개요

Namespace는 리눅스 커널의 기능 중 하나로, 프로세스의 격리된 환경을 제공합니다. 이를 통해 독립적인 네트워크, 파일 시스템, 프로세스, 호스트 이름 등을 가질 수 있습니다. Namespace는 컨테이너 기술의 기반 기술 중 하나로 사용되며, 여러 프로세스 간의 격리를 가능케 합니다.

## 주요 종류

리눅스는 다양한 종류의 Namespace를 지원합니다. 각 Namespace는 프로세스가 격리되는 영역을 정의합니다.

- **PID Namespace**: 프로세스 ID를 격리하여 다른 Namespace 내에서 동일한 PID를 사용할 수 있게 합니다.
- **Network Namespace**: 네트워크 인터페이스, 라우팅 테이블, 방화벽 규칙 등의 네트워크 관련 설정을 격리합니다.
- **Mount Namespace**: 파일 시스템을 격리하여 마운트된 디렉터리를 다른 Namespace 내에서 숨기거나 공유할 수 있습니다.
- **UTS Namespace**: 호스트 이름과 도메인 이름을 격리하여 독립적인 시스템 식별자를 가질 수 있게 합니다.
- **IPC Namespace**: System V IPC 및 POSIX IPC 리소스를 격리하여 프로세스 간 통신을 제어합니다.
- **User Namespace**: 사용자 및 그룹 ID를 격리하여 다른 Namespace 내에서 동일한 ID를 사용할 수 있게 합니다.

## 사용법

Namespace는 다음과 같은 방법으로 사용할 수 있습니다.

- `unshare` 명령어를 사용하여 프로세스를 특정 Namespace에 직접 진입시킵니다.
- `clone` 시스템 호출을 사용하여 새로운 프로세스를 생성하고 특정 Namespace에 속하도록 지정할 수 있습니다.
- 컨테이너 관리 도구인 Docker, Kubernetes 등을 사용하여 Namespace를 관리할 수 있습니다.

## 참고

Namespace와 cgroup은 리눅스 컨테이너 기술의 핵심 요소로 사용되며, 이를 통해 가상화 및 격리된 환경에서 응용 프로그램을 실행하고 관리할 수 있습니다. 이를 통해 다양한 환경에서 프로세스 간의 충돌을 방지하고 리소스를 효율적으로 관리할 수 있습니다.